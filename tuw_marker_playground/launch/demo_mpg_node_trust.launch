<launch>

    <arg name="device" default="1"/>
    <arg name="show" default="false"/>

    <node pkg="tuw_uvc" type="general_node" name="camera" output="screen">
        <param name="video_device" value="/dev/video$(arg device)"/>
        <param name="show_camera_image" value="$(arg show)"/>
        <param name="convert_image" value="1"/>
        <param name="camera_info_url" value="file://$(find tuw_uvc)/cfg/trust.yml"/>
        <param name="frame_id" value="camera"/>

        <param name="width" value="640"/>
        <param name="height" value="480"/>
    </node>

    <node pkg="tuw_marker_playground" type="mpg_node" name="mpgMarker" output="screen">
<!--
        <param name="show_camera_image" value="true"/>
        <param name="circle_diameter" value="0.06"/>
        <param name="debug" value="false"/>
-->
        <remap from="image" to="/camera/image_raw"/>
        <remap from="camera_info" to="camera/camera_info"/>
        <remap from="markers" to="/mpgMarkers"/>
        <remap from="fiducials" to="/mpgFiducials"/>
    </node>

    <!-- undistore image -->
    <group ns="camera" > 
      <node pkg="image_proc" type="image_proc" name="image_proc" />
    </group>

</launch>
